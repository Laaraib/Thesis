\chapter{Python Code}

\section{Intensity vs. lateral distance for a single source}\label{code:single}

\begin{Verbatim}[fontsize=\small,baselinestretch=0.9]
import matplotlib.pyplot as plt
from math import sqrt, sin
w=1 #(t'=wt)
k=1 #(r'=kr)
L=1

def r(x):
   return sqrt(L**2+x**2)

def Ex(x,t):
   return (x/r(x)**2)*(sin(k*r(x)-w*t))

def Ey(x,t):
   return (L/r(x)**2)*(sin(k*r(x)-w*t))

def I(x,t):
   return (Ex(x,t)**2+Ey(x,t)**2)

#plot between intensity and distance.
a=[]
b=[]

for i in range(-150,150,1):
   x=i/10.0
   y=I(x,0)
   a.append(x)
   b.append(y)

fig= plt.figure()
axes=fig.add_subplot(111)
axes.plot(a,b)
plt.show()
\end{Verbatim}


\section{Intensity vs. lateral distance for a linear array of 4 antennae}\label{code:four}

\begin{Verbatim}[fontsize=\small,baselinestretch=0.9]
import numpy as np
import matplotlib.pyplot as plt
from math import sqrt, sin, pi

w=1.0
k=1.0
L=10.0 / k
P=0

# Calculate fringe spacing:
#d = 2 * 5           # Slit-spacing
#fs = 2 * pi * L / (k * d)
#print("Slit-spacing = {} produces fringe spacing = {}".format(d, fs))

# sources=[(distance,phase)]
sources = [(-12, 0), (-4,0), (4,0), (12,0)]

def r(x,d):
   return sqrt(L**2+(x-d)**2)

def Ex(x,d,p,t):
   return ((x-d)/r(x,d)**2)*(sin(k*r(x,d)-w*t+p))

def Ey(x,d,p,t):
   return (L/r(x,d)**2)*(sin(k*r(x,d)-w*t+p))

def I(x,sources,t):

   Ox=0
   Oy=0

   for d, p in sources:

      Ox+=Ex(x,d,p,t)
      Oy+=Ey(x,d,p,t)

   return Ox**2+Oy**2


def trapezoidal(f, a, b, n):

   h = float(b - a) / n
   s = 0.0
   s += f(a)/2.0

   for i in range(1, n):
      s += f(a + i*h)
      s += f(b)/2.0

   return s * h


xs=[]
ys=[]


for x in np.linspace(-20,20,1000):
   y = trapezoidal(lambda t: I(x,sources,t), -pi/w, pi/w, 100) / (2 * pi)

xs.append(x)
ys.append(y)

plt.plot(xs,ys)
plt.show()   
\end{Verbatim}

\subsection{Steer the beam by introducing and managing phase}

\subsubsection{Example 1}\label{code:phase_right}

\begin{Verbatim}[fontsize=\small,baselinestretch=0.9]
import numpy as np
import matplotlib.pyplot as plt
from math import sqrt, sin, pi

w=1.0
k=1.0
L=10.0 / k

#sources=[(distance,phase)]
sources = [(-12,0), (-4,0), (4,0), (12,pi)]

def r(x,d):
    return sqrt(L**2+(x-d)**2)
    
def Ex(x,d,P,t):
    return ((x-d)/r(x,d)**2)*(sin(k*r(x,d)-w*t+P))
   
def Ey(x,d,P,t):
    return (L/r(x,d)**2)*(sin(k*r(x,d)-w*t+P))
       
def I(x,sources,t):
    Ox=0
    Oy=0
    for d, p in sources:
        Ox+=Ex(x,d,p,t)
        Oy+=Ey(x,d,p,t)
    
    return Ox**2+Oy**2
        
    
def trapezoidal(f, a, b, n):
    h = float(b - a) / n
    s = 0.0
    s += f(a)/2.0
    for i in range(1, n):
        s += f(a + i*h)
    s += f(b)/2.0
    return s * h

xs=[]
ys=[]

for x in np.linspace(-20,20,1000):
    y = trapezoidal(lambda t: I(x,sources,t), -pi/w, pi/w, 100) / (2 * pi)
   
    xs.append(x)
    ys.append(y)

plt.plot(xs,ys)
plt.show()   
\end{Verbatim}


\subsubsection{Example 2}\label{code:phase_left}

\begin{Verbatim}[fontsize=\small,baselinestretch=0.9]
import numpy as np
import matplotlib.pyplot as plt
from math import sqrt, sin, pi

w=1.0
k=1.0
L=10.0 / k

#sources=[(distance,phase)]
sources = [(-12,0), (-4,pi), (4,pi), (12,pi)]

def r(x,d):
    return sqrt(L**2+(x-d)**2)
    
def Ex(x,d,P,t):
    return ((x-d)/r(x,d)**2)*(sin(k*r(x,d)-w*t+P))
   
def Ey(x,d,P,t):
    return (L/r(x,d)**2)*(sin(k*r(x,d)-w*t+P))
       
def I(x,sources,t):
    Ox=0
    Oy=0
    for d, p in sources:
        Ox+=Ex(x,d,p,t)
        Oy+=Ey(x,d,p,t)
    
    return Ox**2+Oy**2
        
    
def trapezoidal(f, a, b, n):
    h = float(b - a) / n
    s = 0.0
    s += f(a)/2.0
    for i in range(1, n):
        s += f(a + i*h)
    s += f(b)/2.0
    return s * h

xs=[]
ys=[]

for x in np.linspace(-20,20,1000):
    y = trapezoidal(lambda t: I(x,sources,t), -pi/w, pi/w, 100) / (2 * pi)
   
    xs.append(x)
    ys.append(y)

plt.plot(xs,ys)
plt.show()
\end{Verbatim}
